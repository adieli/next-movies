(function(e){function t(t){for(var i,n,s=t[0],c=t[1],l=t[2],u=0,f=[];u<s.length;u++)n=s[u],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&f.push(a[n][0]),a[n]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);p&&p(t);while(f.length)f.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],i=!0,n=1;n<r.length;n++){var s=r[n];0!==a[s]&&(i=!1)}i&&(o.splice(t--,1),e=c(c.s=r[0]))}return e}var i={},n={app:0},a={app:0},o=[];function s(e){return c.p+"js/"+({movieDialog:"movieDialog"}[e]||e)+"."+{movieDialog:"4e761a82"}[e]+".js"}function c(t){if(i[t])return i[t].exports;var r=i[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.e=function(e){var t=[],r={movieDialog:1};n[e]?t.push(n[e]):0!==n[e]&&r[e]&&t.push(n[e]=new Promise((function(t,r){for(var i="css/"+({movieDialog:"movieDialog"}[e]||e)+"."+{movieDialog:"ec9fa4ea"}[e]+".css",a=c.p+i,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var l=o[s],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===i||u===a))return t()}var f=document.getElementsByTagName("style");for(s=0;s<f.length;s++){l=f[s],u=l.getAttribute("data-href");if(u===i||u===a)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var i=t&&t.target&&t.target.src||a,o=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=i,delete n[e],p.parentNode.removeChild(p),r(o)},p.href=a;var v=document.getElementsByTagName("head")[0];v.appendChild(p)})).then((function(){n[e]=0})));var i=a[e];if(0!==i)if(i)t.push(i[2]);else{var o=new Promise((function(t,r){i=a[e]=[t,r]}));t.push(i[2]=o);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=s(e);var f=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(p);var r=a[e];if(0!==r){if(r){var i=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+i+": "+n+")",f.name="ChunkLoadError",f.type=i,f.request=n,r[1](f)}a[e]=void 0}};var p=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=i,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)c.d(r,i,function(t){return e[t]}.bind(null,i));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/next-movies/public/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var f=0;f<l.length;f++)t(l[f]);var p=u;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"1eea":function(e,t,r){},"32eb":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var i=r("2b0e"),n=r("f309"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[e.showMovieDialog?r("movie-dialog"):e._e(),r("filter-bar"),r("v-main",[r("movies-list")],1)],1)},o=[],s=r("5530"),c=r("2f62"),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{ref:"listContainer",staticClass:"grey lighten-5"},[r("v-row",e._l(e.paginatedMoviesList,(function(e){return r("v-col",{key:e.id,attrs:{cols:"12",sm:"4"}},[r("div",{staticClass:"movies-list"},[r("movie-card",{attrs:{releaseYear:e.released,movieName:e.title,movieId:e.id,duration:e.runtime,imageUrl:e.image}})],1)])})),1),r("v-spacer"),r("v-pagination",{staticClass:"movies-list-pagination",attrs:{length:this.pagesNumber},on:{input:e.onNextPageClick},model:{value:e.pageNumber,callback:function(t){e.pageNumber=t},expression:"pageNumber"}})],1)},u=[],f=(r("fb6a"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"mx-auto",attrs:{outlined:"",tile:"","max-width":e.cardMaxWidth}},[r("v-img",{staticClass:"card-image",attrs:{src:e.imageUrl,"max-height":e.imageHeight,"max-width":e.imageWidth,contain:!0,position:"center"},on:{click:function(t){return e.onImageClick()}}}),r("v-card-title",{domProps:{innerHTML:e._s(e.movieName)}}),r("v-card-subtitle",[e._v(" Year: "+e._s(e.releaseYear)+" ")]),r("v-card-text",[e._v(" Duration: "+e._s(e.duration)+" ")]),r("v-card-actions",[r("v-btn",{attrs:{color:"orange lighten-2",text:""},on:{click:function(t){return e.onCardButtonClick()}}},[e._v(" Explore ")])],1)],1)}),p=[],v=(r("a9e3"),c["a"].mapActions),d={name:"MovieCard",data:function(){return{cardMaxWidth:344,imageHeight:"250px",imageWidth:"344px",displayMovieDialog:!1}},props:{imageUrl:{type:String,required:!0},releaseYear:{type:Number,required:!0},movieName:{type:String,required:!0},duration:{type:String,required:!0},movieId:{type:String,required:!0}},methods:Object(s["a"])(Object(s["a"])({},v({setDisplayMovieDetails:"setDisplayMovieDetails"})),{},{onCardButtonClick:function(){this.displayMovieDetails()},onImageClick:function(){this.displayMovieDetails()},displayMovieDetails:function(){this.setDisplayMovieDetails(this.movieId)}})},m=d,g=(r("9ee3"),r("2877")),h=r("6544"),b=r.n(h),M=r("8336"),y=r("b0af"),O=r("99d9"),E=r("adda"),D=Object(g["a"])(m,f,p,!1,null,"32098f66",null),I=D.exports;b()(D,{VBtn:M["a"],VCard:y["a"],VCardActions:O["a"],VCardSubtitle:O["b"],VCardText:O["c"],VCardTitle:O["d"],VImg:E["a"]});var T=c["a"].mapActions,w=c["a"].mapGetters,V={name:"MovieList",components:{movieCard:I},data:function(){return{pageNumber:1,moviesPerPage:12}},computed:Object(s["a"])(Object(s["a"])({},w({moviesList:"getFilteredMoviesForDisplay"})),{},{pagesNumber:function(){return Math.ceil(this.moviesList.length/this.moviesPerPage)},paginatedMoviesList:function(){var e=this.pageNumber*this.moviesPerPage-this.moviesPerPage,t=e+this.moviesPerPage;return this.moviesList.slice(e,t)}}),created:function(){this.fetchMovies()},methods:Object(s["a"])(Object(s["a"])({},T({fetchMovies:"fetchMovies"})),{},{onNextPageClick:function(e){this.pageNumber=e,this.scrollToListTop()},scrollToListTop:function(){this.$refs.listContainer.scrollTop=0}})},A=V,C=(r("e0ee"),r("62ad")),_=r("a523"),R=r("891e"),S=r("0fd9"),j=r("2fa4"),x=Object(g["a"])(A,l,u,!1,null,"ad345a74",null),L=x.exports;b()(x,{VCol:C["a"],VContainer:_["a"],VPagination:R["a"],VRow:S["a"],VSpacer:j["a"]});var k,F,N=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app-bar",{attrs:{app:"",color:"primary",dark:"",height:e.barHeight}},[r("div",{staticClass:"d-flex align-center filter-bar"},[r("span",{staticClass:"filter-header-label"},[e._v(" Filter options: ")]),r("v-autocomplete",{staticClass:"filter-type",attrs:{items:e.filterTypes,filter:e.applyFilterType,color:"white","item-text":"name",clearable:"",label:"Filter type"},on:{change:e.onFilterTypeSelected,"click:clear":e.onFilterTypeClear}}),r("v-autocomplete",{staticClass:"filter-value",attrs:{items:e.filterValues,filter:e.applyFilterValue,color:"white","item-text":"name",disabled:!e.filterByType,clearable:"",label:e.filterLabel},on:{change:e.onFilterValueSelected,"click:clear":e.onFilterValueClear}}),r("v-btn",{staticClass:"filter-button",attrs:{color:"orange lighten-3",text:"",disabled:!e.filterByType||!e.filterByValue},on:{click:e.onFilterButtonClick}},[e._v(" Filter ")]),r("v-btn",{staticClass:"reset-button",attrs:{color:"orange lighten-3",text:"",disabled:0===e.filteredMoviesList.length},on:{click:e.onResetButtonClick}},[e._v(" Reset ")])],1)])},B=[],P=(r("7db0"),r("c975"),r("d81d"),r("b0c0"),r("d3b7"),r("25f0"),r("ade3")),G=r("2ef0"),Y={YEAR:"Year",DURATION:"Duration",RATING:"Rating",NAME:"Name"},U=(k={},Object(P["a"])(k,Y.YEAR,"released"),Object(P["a"])(k,Y.DURATION,"numericRuntime"),Object(P["a"])(k,Y.RATING,"numericRating"),Object(P["a"])(k,Y.NAME,"title"),k),q=c["a"].mapActions,H=c["a"].mapGetters,W=(F={},Object(P["a"])(F,Y.NAME,"Filter value"),Object(P["a"])(F,Y.DURATION,"Duration(min) less or equal to value"),Object(P["a"])(F,Y.YEAR,"Year greater or equal to value"),Object(P["a"])(F,Y.RATING,"Rating greater or equal to value"),F),$={name:"FilterBar",data:function(){return{barHeight:"70px",filterTypes:[{name:Y.YEAR,id:U[Y.YEAR]},{name:Y.DURATION,id:U[Y.DURATION]},{name:Y.RATING,id:U[Y.RATING]},{name:Y.NAME,id:U[Y.NAME]}],filterValues:[],filterByValue:"",filterByType:"",filterLabel:W[Y.NAME]}},computed:Object(s["a"])({},H({moviesList:"getMovies",filteredMoviesList:"getFilteredMovies"})),methods:Object(s["a"])(Object(s["a"])({},q({setFilteredMovies:"setFilteredMovies",resetFilteredMovies:"resetFilteredMovies"})),{},{applyFilterType:function(e,t){var r=e.name.toLowerCase(),i=t.toLowerCase();return r.indexOf(i)>-1},applyFilterValue:function(e,t){var r=this.filterByType!==Y.NAME,i=r?e.toString():e.toLowerCase(),n=r?t:t.toLowerCase();return i.indexOf(n)>-1},onFilterTypeSelected:function(e){if(e){var t=this.filterTypes.find((function(t){var r=t.name;return r===e})).id;this.filterValues=this.moviesList.map((function(e){return e[t]})),this.filterValues=Object(G["orderBy"])(this.filterValues,[U[this.filterByType]],"desc"),this.filterByType=e,this.filterLabel=W[e]}},onFilterTypeClear:function(){this.filterByType="",this.onFilterValueClear(),this.filterLabel=W[Y.NAME]},onFilterValueSelected:function(e){this.filterByValue=e},onFilterValueClear:function(){this.filterByValue=""},onFilterButtonClick:function(){this.setFilteredMovies({filterType:this.filterByType,filterValue:this.filterByValue})},onResetButtonClick:function(){this.resetFilteredMovies()}})},J=$,K=(r("69ce"),r("40dc")),z=r("c6a6"),Q=Object(g["a"])(J,N,B,!1,null,"3a55216c",null),X=Q.exports;b()(Q,{VAppBar:K["a"],VAutocomplete:z["a"],VBtn:M["a"]});var Z,ee=function(e){return r.e("movieDialog").then(function(){return e(r("4f8b"))}.bind(null,r)).catch(r.oe)},te=c["a"].mapGetters,re={name:"App",components:{moviesList:L,movieDialog:ee,filterBar:X},data:function(){return{}},computed:Object(s["a"])({},te({showMovieDialog:"getShowMovieDialog"}))},ie=re,ne=r("7496"),ae=r("f6c4"),oe=Object(g["a"])(ie,a,o,!1,null,null,null),se=oe.exports;b()(oe,{VApp:ne["a"],VMain:ae["a"]});var ce={MOVIES:"movies",MOVIE_DETAILS:"movieDetails",SHOW_MOVIE_DIALOG:"showMovieDialog",SELECTED_MOVIE_ID:"selectedMovieId",FILTERED_MOVIES:"filteredMovies"},le=(Z={},Object(P["a"])(Z,ce.MOVIES,[]),Object(P["a"])(Z,ce.FILTERED_MOVIES,[]),Object(P["a"])(Z,ce.MOVIE_DETAILS,{}),Object(P["a"])(Z,ce.SHOW_MOVIE_DIALOG,!1),Object(P["a"])(Z,ce.SELECTED_MOVIE_ID,null),Z),ue=function(e){return e[ce.MOVIES]},fe=function(e){return e[ce.FILTERED_MOVIES]},pe=function(e){return e[ce.FILTERED_MOVIES].length>0?e[ce.FILTERED_MOVIES]:ue(e)},ve=function(e){return e[ce.MOVIE_DETAILS]},de=function(e){return e[ce.SHOW_MOVIE_DIALOG]},me=function(e){return e[ce.SELECTED_MOVIE_ID]},ge={getMovies:ue,getFilteredMovies:fe,getMovieDetails:ve,getShowMovieDialog:de,getSelectedMovieId:me,getFilteredMoviesForDisplay:pe},he=ge,be=(r("4de4"),r("96cf"),r("1da1")),Me=(r("99af"),r("d4ec")),ye=r("bee2"),Oe=r("bc3a"),Ee=r.n(Oe),De=(r("4160"),r("159b"),function(e){var t=parseInt(e.charAt(0),10),r=parseInt(e.substring(2,e.length-1),10);return 60*t+r}),Ie=De,Te=function(e){var t=e.id,r=e.title,i=e.image,n=e.synopsis,a=e.rating,o=e.released,s=e.runtime,c=e.largeimage,l={id:t,title:r,image:i,synopsis:n,rating:a,numericRating:parseFloat(a)||0,released:parseInt(o,10),runtime:s,numericRuntime:Ie(s)||0,largeimage:c};return l},we=function(e){var t=Object(G["get"])(e,"data",[]),r=[];return t.forEach((function(e){return r.push(Te(e))})),r},Ve=function(e){var t=we(e);return t.length>0?t[0]:{}},Ae="http://localhost:3000/movies",Ce=function(){function e(){Object(Me["a"])(this,e),this.name="MoviesService"}return Object(ye["a"])(e,[{key:"getMoviesList",value:function(){var e=Object(be["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.a.get(Ae);case 3:r=e.sent,t=we(r),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),t=Promise.reject(e.t0),console.log("".concat(this.name,": Error fetching Movies list: ").concat(e.t0));case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getMovie",value:function(){var e=Object(be["a"])(regeneratorRuntime.mark((function e(t){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.a.get("".concat(Ae,"/").concat(t));case 3:i=e.sent,r=Ve(i),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log("".concat(this.name,": Error fetching Movie details for ").concat(t,": ").concat(e.t0));case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),_e=new Ce,Re=_e,Se=function(){var e=Object(be["a"])(regeneratorRuntime.mark((function e(t){var r,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,Re.getMoviesList();case 3:i=e.sent,i&&i.length>0&&(n=Object(G["orderBy"])(i,["released"],"desc"),r("setMovies",n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(be["a"])(regeneratorRuntime.mark((function e(t,r){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.commit,e.next=3,Re.getMovie(r);case 3:n=e.sent,n&&i("setMovieDetails",n);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),xe=function(){var e=Object(be["a"])(regeneratorRuntime.mark((function e(t,r){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=t.commit,i("setSelectedMovieId",r),i("setShowMovieDialog",!0);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Le=function(){var e=Object(be["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.commit,r("setSelectedMovieId",null),r("setShowMovieDialog",!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(be["a"])(regeneratorRuntime.mark((function e(t,r){var i,n,a,o,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=t.commit,n=t.getters,a=r.filterType,o=r.filterValue,s=[],c=n.getMovies,e.t0=a,e.next=e.t0===Y.NAME?7:e.t0===Y.RATING?9:e.t0===Y.DURATION?11:e.t0===Y.YEAR?13:15;break;case 7:return s=c.filter((function(e){return e[U[Y.NAME]]===o})),e.abrupt("break",16);case 9:return s=c.filter((function(e){return e[U[Y.RATING]]>=o})),e.abrupt("break",16);case 11:return s=c.filter((function(e){return e[U[Y.DURATION]]<=o})),e.abrupt("break",16);case 13:return s=c.filter((function(e){return e[U[Y.YEAR]]>=o})),e.abrupt("break",16);case 15:return e.abrupt("break",16);case 16:i("setFilteredMovies",s);case 17:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(be["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.commit,r("setFilteredMovies",[]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne={fetchMovies:Se,fetchMovieDetails:je,setDisplayMovieDetails:xe,resetDisplayMovieDetails:Le,setFilteredMovies:ke,resetFilteredMovies:Fe},Be=Ne,Pe=function(e,t){e[ce.MOVIES]=t},Ge=function(e,t){e[ce.FILTERED_MOVIES]=t},Ye=function(e,t){i["a"].set(e[ce.MOVIE_DETAILS],t.id,t)},Ue=function(e,t){e[ce.SHOW_MOVIE_DIALOG]=t},qe=function(e,t){e[ce.SELECTED_MOVIE_ID]=t},He={setMovies:Pe,setMovieDetails:Ye,setShowMovieDialog:Ue,setSelectedMovieId:qe,setFilteredMovies:Ge},We=He;i["a"].use(c["a"]);var $e=new c["a"].Store({state:le,mutations:We,actions:Be,getters:he});r("5363");i["a"].use(n["a"]);var Je=new n["a"]({});i["a"].config.productionTip=!1,i["a"].use(n["a"]),new i["a"]({store:$e,vuetify:Je,render:function(e){return e(se)}}).$mount("#app")},"69ce":function(e,t,r){"use strict";r("32eb")},9355:function(e,t,r){},"9ee3":function(e,t,r){"use strict";r("1eea")},e0ee:function(e,t,r){"use strict";r("9355")}});
//# sourceMappingURL=app.70d0e578.js.map