(function(e){function t(t){for(var r,o,s=t[0],c=t[1],l=t[2],v=0,f=[];v<s.length;v++)o=s[v],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(f.length)f.shift()();return n.push.apply(n,l||[]),i()}function i(){for(var e,t=0;t<n.length;t++){for(var i=n[t],r=!0,s=1;s<i.length;s++){var c=i[s];0!==a[c]&&(r=!1)}r&&(n.splice(t--,1),e=o(o.s=i[0]))}return e}var r={},a={app:0},n=[];function o(t){if(r[t])return r[t].exports;var i=r[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=r,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(i,r,function(t){return e[t]}.bind(null,r));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/next-movies/public/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;n.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"39e2":function(e,t,i){},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var r=i("2b0e"),a=i("f309"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-app",[e.showMovieDialog?i("movie-dialog"):e._e(),i("filter-bar"),i("v-main",[i("movies-list")],1)],1)},o=[],s=i("5530"),c=i("2f62"),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{ref:"listContainer",staticClass:"grey lighten-5"},[i("v-row",e._l(e.paginatedMoviesList,(function(e){return i("v-col",{key:e.id,attrs:{cols:"12",sm:"4"}},[i("div",{staticClass:"movies-list"},[i("movie-card",{attrs:{releaseYear:e.released,movieName:e.title,movieId:e.id,duration:e.runtime,imageUrl:e.image}})],1)])})),1),i("v-spacer"),i("v-pagination",{staticClass:"movies-list-pagination",attrs:{length:this.pagesNumber},on:{input:e.onNextPageClick},model:{value:e.pageNumber,callback:function(t){e.pageNumber=t},expression:"pageNumber"}})],1)},u=[],v=(i("fb6a"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"mx-auto",attrs:{outlined:"",tile:"","max-width":e.cardMaxWidth}},[i("v-img",{attrs:{src:e.imageUrl,"max-height":e.imageHeight,"max-width":e.imageWidth,contain:!0,position:"center"}}),i("v-card-title",{domProps:{innerHTML:e._s(e.movieName)}}),i("v-card-subtitle",[e._v(" Year: "+e._s(e.releaseYear)+" ")]),i("v-card-text",[e._v(" Duration: "+e._s(e.duration)+" ")]),i("v-card-actions",[i("v-btn",{attrs:{color:"orange lighten-2",text:""},on:{click:function(t){return e.onCardButtonClick()}}},[e._v(" Explore ")])],1)],1)}),f=[],m=(i("a9e3"),c["a"].mapActions),p={name:"MovieCard",data:function(){return{cardMaxWidth:344,imageHeight:"250px",imageWidth:"344px",displayMovieDialog:!1}},props:{imageUrl:{type:String,required:!0},releaseYear:{type:Number,required:!0},movieName:{type:String,required:!0},duration:{type:String,required:!0},movieId:{type:String,required:!0}},methods:Object(s["a"])(Object(s["a"])({},m({setDisplayMovieDetails:"setDisplayMovieDetails"})),{},{onCardButtonClick:function(){this.setDisplayMovieDetails(this.movieId)}})},d=p,g=i("2877"),h=i("6544"),b=i.n(h),M=i("8336"),O=i("b0af"),y=i("99d9"),D=i("adda"),I=Object(g["a"])(d,v,f,!1,null,null,null),E=I.exports;b()(I,{VBtn:M["a"],VCard:O["a"],VCardActions:y["a"],VCardSubtitle:y["b"],VCardText:y["c"],VCardTitle:y["d"],VImg:D["a"]});var V=c["a"].mapActions,w=c["a"].mapGetters,T={name:"MovieList",components:{movieCard:E},data:function(){return{pageNumber:1,moviesPerPage:12}},computed:Object(s["a"])(Object(s["a"])({},w({moviesList:"getFilteredMoviesForDisplay"})),{},{pagesNumber:function(){return Math.ceil(this.moviesList.length/this.moviesPerPage)},paginatedMoviesList:function(){var e=this.pageNumber*this.moviesPerPage-this.moviesPerPage,t=e+this.moviesPerPage;return this.moviesList.slice(e,t)}}),created:function(){this.fetchMovies()},methods:Object(s["a"])(Object(s["a"])({},V({fetchMovies:"fetchMovies"})),{},{onNextPageClick:function(e){this.pageNumber=e,this.scrollToListTop()},scrollToListTop:function(){this.$refs.listContainer.scrollTop=0}})},_=T,x=(i("e6f1"),i("62ad")),j=i("a523"),R=i("891e"),C=i("0fd9"),S=i("2fa4"),k=Object(g["a"])(_,l,u,!1,null,"44f797c6",null),F=k.exports;b()(k,{VCol:x["a"],VContainer:j["a"],VPagination:R["a"],VRow:C["a"],VSpacer:S["a"]});var L=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.showMovieDialog,callback:function(t){e.showMovieDialog=t},expression:"showMovieDialog"}},[i("v-card",[i("v-toolbar",{attrs:{dark:"",color:"primary"}},[i("v-btn",{attrs:{icon:"",dark:""},on:{click:e.onBackButtonClick}},[i("v-icon",[e._v("mdi-close")])],1),i("v-toolbar-title",{domProps:{innerHTML:e._s(e.movieTitle)}}),i("v-spacer"),i("v-toolbar-items",[i("v-btn",{attrs:{dark:"",text:""},on:{click:e.onBackButtonClick}},[e._v(" Back ")])],1)],1),i("v-img",{staticClass:"mx-auto movie-image",attrs:{src:e.movieImageUrl,"max-height":e.imageHeight,"max-width":e.imageWidth,contain:!0,position:"center"}}),i("v-list",{attrs:{"three-line":""}},[i("v-list-item",[i("v-list-item-content",[i("v-list-item-subtitle",{staticClass:"movie-attribute",domProps:{innerHTML:e._s(e.movieSummary)}}),e.movieRating?i("v-list-item-subtitle",{staticClass:"movie-attribute"},[e._v(" "+e._s(e.movieRating)+" ")]):e._e(),i("v-list-item-subtitle",{staticClass:"movie-attribute"},[e._v(" "+e._s(e.releaseYear)+" ")]),i("v-list-item-subtitle",{staticClass:"movie-attribute"},[e._v(" "+e._s(e.duration)+" ")])],1)],1)],1)],1)],1)},A=[],B=(i("96cf"),i("1da1")),N=i("2ef0"),P=c["a"].mapActions,G=c["a"].mapGetters,H={name:"MovieDialog",data:function(){return{imageHeight:"450px",imageWidth:"600px",notifications:!1,sound:!0,widgets:!1}},computed:Object(s["a"])(Object(s["a"])({},G({getMovieDetails:"getMovieDetails",movieId:"getSelectedMovieId",showMovieDialog:"getShowMovieDialog"})),{},{movieDetails:function(){return this.getMovieDetails[this.movieId]},movieTitle:function(){return Object(N["get"])(this.movieDetails,"title")},movieImageUrl:function(){return Object(N["get"])(this.movieDetails,"largeimage")},movieSummary:function(){return Object(N["get"])(this.movieDetails,"synopsis")},movieRating:function(){var e=Object(N["get"])(this.movieDetails,"rating");return e?"Rating: ".concat(e):""},releaseYear:function(){var e=Object(N["get"])(this.movieDetails,"released");return"Release year: ".concat(e)},duration:function(){var e=Object(N["get"])(this.movieDetails,"runtime");return"Duration: ".concat(e)}}),watch:{movieId:{handler:function(e,t){var i=this;return Object(B["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!e||e===t){r.next=4;break}if(i.getMovieDetails[e]){r.next=4;break}return r.next=4,i.fetchMovie(e);case 4:case"end":return r.stop()}}),r)})))()},immediate:!0}},methods:Object(s["a"])(Object(s["a"])({},P({fetchMovieDetails:"fetchMovieDetails",resetDisplayMovieDetails:"resetDisplayMovieDetails"})),{},{onBackButtonClick:function(){this.resetDisplayMovieDetails()},fetchMovie:function(){this.fetchMovieDetails(this.movieId)}})},Y=H,U=(i("64fc"),i("169a")),W=i("132d"),$=i("8860"),q=i("da13"),J=i("5d23"),z=i("71d9"),K=i("2a7f"),Q=Object(g["a"])(Y,L,A,!1,null,"2cc878b0",null),X=Q.exports;b()(Q,{VBtn:M["a"],VCard:O["a"],VDialog:U["a"],VIcon:W["a"],VImg:D["a"],VList:$["a"],VListItem:q["a"],VListItemContent:J["a"],VListItemSubtitle:J["b"],VSpacer:S["a"],VToolbar:z["a"],VToolbarItems:K["a"],VToolbarTitle:K["b"]});var Z,ee=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-app-bar",{attrs:{app:"",color:"primary",dark:"",height:e.barHeight}},[i("div",{staticClass:"d-flex align-center filter-bar"},[i("span",{staticClass:"filter-header-label"},[e._v(" Filter options: ")]),i("v-autocomplete",{staticClass:"filter-type",attrs:{items:e.filterTypes,filter:e.applyFilterType,color:"white","item-text":"name",clearable:"",label:"Filter By"},on:{change:e.onFilterTypeSelected,"click:clear":e.onFilterTypeClear}}),i("v-autocomplete",{staticClass:"filter-value",attrs:{items:e.filterValues,filter:e.applyFilterValue,color:"white","item-text":"name",disabled:!e.filterByType,clearable:"",label:"Filter value"},on:{change:e.onFilterValueSelected,"click:clear":e.onFilterValueClear}}),i("v-btn",{staticClass:"filter-button",attrs:{color:"orange lighten-3",text:"",disabled:!e.filterByType||!e.filterByValue},on:{click:e.onFilterButtonClick}},[e._v(" Filter ")]),i("v-btn",{staticClass:"reset-button",attrs:{color:"orange lighten-3",text:"",disabled:0===e.filteredMoviesList.length},on:{click:e.onResetButtonClick}},[e._v(" Reset ")])],1)])},te=[],ie=(i("7db0"),i("c975"),i("d81d"),i("b0c0"),i("ade3")),re={YEAR:"Year",DURATION:"Duration",RATING:"Rating",NAME:"Name"},ae=(Z={},Object(ie["a"])(Z,re.YEAR,"released"),Object(ie["a"])(Z,re.DURATION,"numericRuntime"),Object(ie["a"])(Z,re.RATING,"numericRating"),Object(ie["a"])(Z,re.NAME,"title"),Z),ne=c["a"].mapActions,oe=c["a"].mapGetters,se={name:"FilterBar",data:function(){return{barHeight:"70px",filterTypes:[{name:re.YEAR,id:ae[re.YEAR]},{name:re.DURATION,id:ae[re.DURATION]},{name:re.RATING,id:ae[re.RATING]},{name:re.NAME,id:ae[re.NAME]}],filterValues:[],filterByValue:"",filterByType:""}},computed:Object(s["a"])({},oe({moviesList:"getMovies",filteredMoviesList:"getFilteredMovies"})),methods:Object(s["a"])(Object(s["a"])({},ne({setFilteredMovies:"setFilteredMovies",resetFilteredMovies:"resetFilteredMovies"})),{},{applyFilterType:function(e,t){var i=e.name.toLowerCase(),r=t.toLowerCase();return i.indexOf(r)>-1},applyFilterValue:function(e,t){var i=this.filterByType!==re.NAME,r=i?e:e.toLowerCase(),a=i?t:t.toLowerCase();return r.indexOf(a)>-1},onFilterTypeSelected:function(e){if(e){var t=this.filterTypes.find((function(t){var i=t.name;return i===e})).id;this.filterValues=this.moviesList.map((function(e){return e[t]})),this.filterValues=Object(N["orderBy"])(this.filterValues,[ae[this.filterByType]],"desc"),this.filterByType=e}},onFilterTypeClear:function(){this.filterByType="",this.onFilterValueClear()},onFilterValueSelected:function(e){this.filterByValue=e},onFilterValueClear:function(){this.filterByValue=""},onFilterButtonClick:function(){this.setFilteredMovies({filterType:this.filterByType,filterValue:this.filterByValue})},onResetButtonClick:function(){this.resetFilteredMovies()}})},ce=se,le=(i("5f8c"),i("40dc")),ue=i("c6a6"),ve=Object(g["a"])(ce,ee,te,!1,null,"5545b1af",null),fe=ve.exports;b()(ve,{VAppBar:le["a"],VAutocomplete:ue["a"],VBtn:M["a"]});var me,pe=c["a"].mapGetters,de={name:"App",components:{moviesList:F,movieDialog:X,filterBar:fe},data:function(){return{}},computed:Object(s["a"])({},pe({showMovieDialog:"getShowMovieDialog"}))},ge=de,he=i("7496"),be=i("f6c4"),Me=Object(g["a"])(ge,n,o,!1,null,null,null),Oe=Me.exports;b()(Me,{VApp:he["a"],VMain:be["a"]});var ye={MOVIES:"movies",MOVIE_DETAILS:"movieDetails",SHOW_MOVIE_DIALOG:"showMovieDialog",SELECTED_MOVIE_ID:"selectedMovieId",FILTERED_MOVIES:"filteredMovies"},De=(me={},Object(ie["a"])(me,ye.MOVIES,[]),Object(ie["a"])(me,ye.FILTERED_MOVIES,[]),Object(ie["a"])(me,ye.MOVIE_DETAILS,{}),Object(ie["a"])(me,ye.SHOW_MOVIE_DIALOG,!1),Object(ie["a"])(me,ye.SELECTED_MOVIE_ID,null),me),Ie=function(e){return e[ye.MOVIES]},Ee=function(e){return e[ye.FILTERED_MOVIES]},Ve=function(e){return e[ye.FILTERED_MOVIES].length>0?e[ye.FILTERED_MOVIES]:Ie(e)},we=function(e){return e[ye.MOVIE_DETAILS]},Te=function(e){return e[ye.SHOW_MOVIE_DIALOG]},_e=function(e){return e[ye.SELECTED_MOVIE_ID]},xe={getMovies:Ie,getFilteredMovies:Ee,getMovieDetails:we,getShowMovieDialog:Te,getSelectedMovieId:_e,getFilteredMoviesForDisplay:Ve},je=xe,Re=(i("4de4"),i("99af"),i("d3b7"),i("d4ec")),Ce=i("bee2"),Se=i("bc3a"),ke=i.n(Se),Fe=(i("4160"),i("159b"),function(e){var t=parseInt(e.charAt(0),10),i=parseInt(e.substring(2,e.length-1),10);return 60*t+i}),Le=Fe,Ae=function(e){var t=e.id,i=e.title,r=e.image,a=e.synopsis,n=e.rating,o=e.released,s=e.runtime,c=e.largeimage,l={id:t,title:i,image:r,synopsis:a,rating:n,numericRating:parseFloat(n)||0,released:parseInt(o,10),runtime:s,numericRuntime:Le(s)||0,largeimage:c};return l},Be=function(e){var t=Object(N["get"])(e,"data",[]),i=[];return t.forEach((function(e){return i.push(Ae(e))})),i},Ne=function(e){var t=Be(e);return t.length>0?t[0]:{}},Pe="http://localhost:3000/movies",Ge=function(){function e(){Object(Re["a"])(this,e),this.name="MoviesService"}return Object(Ce["a"])(e,[{key:"getMoviesList",value:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ke.a.get(Pe);case 3:i=e.sent,t=Be(i),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),t=Promise.reject(e.t0),console.log("".concat(this.name,": Error fetching Movies list: ").concat(e.t0));case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getMovie",value:function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(t){var i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ke.a.get("".concat(Pe,"/").concat(t));case 3:r=e.sent,i=Ne(r),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log("".concat(this.name,": Error fetching Movie details for ").concat(t,": ").concat(e.t0));case 10:return e.abrupt("return",i);case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),He=new Ge,Ye=He,Ue=function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(t){var i,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.commit,e.next=3,Ye.getMoviesList();case 3:r=e.sent,r&&r.length>0&&(a=Object(N["orderBy"])(r,["released"],"desc"),i("setMovies",a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),We=function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(t,i){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,Ye.getMovie(i);case 3:a=e.sent,a&&r("setMovieDetails",a);case 5:case"end":return e.stop()}}),e)})));return function(t,i){return e.apply(this,arguments)}}(),$e=function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(t,i){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.commit,r("setSelectedMovieId",i),r("setShowMovieDialog",!0);case 3:case"end":return e.stop()}}),e)})));return function(t,i){return e.apply(this,arguments)}}(),qe=function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=t.commit,i("setSelectedMovieId",null),i("setShowMovieDialog",!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je=function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(t,i){var r,a,n,o,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.commit,a=t.getters,n=i.filterType,o=i.filterValue,s=[],c=a.getMovies,e.t0=n,e.next=e.t0===re.NAME?7:e.t0===re.RATING?9:e.t0===re.DURATION?11:e.t0===re.YEAR?13:15;break;case 7:return s=c.filter((function(e){return e[ae[re.NAME]]===o})),e.abrupt("break",16);case 9:return s=c.filter((function(e){return e[ae[re.RATING]]>=o})),e.abrupt("break",16);case 11:return s=c.filter((function(e){return e[ae[re.DURATION]]<=o})),e.abrupt("break",16);case 13:return s=c.filter((function(e){return e[ae[re.YEAR]]>=o})),e.abrupt("break",16);case 15:return e.abrupt("break",16);case 16:r("setFilteredMovies",s);case 17:case"end":return e.stop()}}),e)})));return function(t,i){return e.apply(this,arguments)}}(),ze=function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=t.commit,i("setFilteredMovies",[]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ke={fetchMovies:Ue,fetchMovieDetails:We,setDisplayMovieDetails:$e,resetDisplayMovieDetails:qe,setFilteredMovies:Je,resetFilteredMovies:ze},Qe=Ke,Xe=function(e,t){e[ye.MOVIES]=t},Ze=function(e,t){e[ye.FILTERED_MOVIES]=t},et=function(e,t){r["a"].set(e[ye.MOVIE_DETAILS],t.id,t)},tt=function(e,t){e[ye.SHOW_MOVIE_DIALOG]=t},it=function(e,t){e[ye.SELECTED_MOVIE_ID]=t},rt={setMovies:Xe,setMovieDetails:et,setShowMovieDialog:tt,setSelectedMovieId:it,setFilteredMovies:Ze},at=rt;r["a"].use(c["a"]);var nt=new c["a"].Store({state:De,mutations:at,actions:Qe,getters:je});i("5363");r["a"].use(a["a"]);var ot=new a["a"]({});r["a"].config.productionTip=!1,r["a"].use(a["a"]),new r["a"]({store:nt,vuetify:ot,render:function(e){return e(Oe)}}).$mount("#app")},"5f8c":function(e,t,i){"use strict";i("39e2")},"64fc":function(e,t,i){"use strict";i("a4c4")},"8f11":function(e,t,i){},a4c4:function(e,t,i){},e6f1:function(e,t,i){"use strict";i("8f11")}});
//# sourceMappingURL=app.258c0d5c.js.map